import{at as t,b2 as e}from"./index-D9qffpGI.js";const s={data:()=>({systemInfo:null,cssSafeAreaInsetBottom:-1,isReadyDestroy:!1}),computed:{windowTop(){if(!this.systemInfo)return 0;return document.getElementsByTagName("uni-page-head").length&&this.systemInfo.windowTop||0},safeAreaBottom(){if(!this.systemInfo)return 0;let t=0;return t=Math.max(this.cssSafeAreaInsetBottom,0),t},isOldWebView(){try{const t=e().system.split(" "),s=t[0],i=parseInt(t[1]);if("iOS"===s&&i<=10||"Android"===s&&i<=6)return!0}catch(t){return!1}return!1},zSlots(){return this.$slots}},beforeDestroy(){this.isReadyDestroy=!0},unmounted(){this.isReadyDestroy=!0},methods:{updateFixedLayout(){this.fixed&&this.$nextTick(()=>{this.systemInfo=e()})},_getNodeClientRect(e,s=!0,i=!1){if(this.isReadyDestroy)return Promise.resolve(!1);let n=s?t().in(!0===s?this:s):t();return i?n.select(e).scrollOffset():n.select(e).boundingClientRect(),new Promise((t,e)=>{n.exec(e=>{t(!(!e||""==e||null==e||!e.length)&&e)})})},_updateLeftAndRightWidth(t,e){this.$nextTick(()=>{setTimeout(()=>{["left","right"].map(s=>{this._getNodeClientRect(`.${e}-${s}`).then(e=>{this.$set(t,s,e?e[0].width+"px":"0px")})})},0)})},_getCssSafeAreaInsetBottom(t){this._getNodeClientRect(".zp-safe-area-inset-bottom").then(e=>{this.cssSafeAreaInsetBottom=e?e[0].height:-1,e&&t&&t()})}}};export{s as c};
