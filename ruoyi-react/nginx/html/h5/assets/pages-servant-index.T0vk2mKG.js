import{d as e,Q as t,u as a,c as s,i as r,o as l,j as o,w as n,k as p,m as i,n as c,x as u,q as m,t as x,p as f,s as d,v as _,F as y,a as h,b,r as g,R as v,C as w,f as k,g as j,_ as F,h as E,l as L,S,G as T,H as D,y as P,z as N,A as V,B as z,E as R,I,J as B,K as H,L as C,M as U,N as O,O as Q,P as $}from"./index-D9qffpGI.js";import{_ as q}from"./status-bar.vue_vue_type_script_setup_true_lang.DoCQBNOC.js";import{_ as A,a as M,b as W}from"./59.C9nCXOxX.js";import{e as G}from"./equals.DY-30pRn.js";import{s as J}from"./split.Jt2Vv11W.js";import{_ as K}from"./z-paging-empty-view.D2R4CSV8.js";import{_ as Z}from"./z-paging.CK8cOFJo.js";import{s as X,_ as Y,a as ee,b as te}from"./contact-customer-service.vue_vue_type_script_setup_true_lang.B4Q4AAm6.js";import{_ as ae}from"./15.Bsjg2eDx.js";import{d as se}from"./index.v6CH64ft.js";import{u as re}from"./usePage.FLXQ4DJO.js";import{w as le}from"./when.CilpbOlU.js";import{g as oe}from"./gt.BhFD8g82.js";import{u as ne}from"./useNetworkStatusChange.yjU6JEeW.js";import"./_curry2.BXt8VKw3.js";import"./keys.FBP1WlYN.js";import"./curryN.C_6k55aV.js";import"./_xfBase.Dq7PG5gC.js";import"./common-layout.D4krRS1d.js";import"./_curry3.VAFlxIU6.js";import"./16.XQJSNEbw.js";import"./prop.DJcIUqX5.js";import"./_nth.UVa0PGVR.js";import"./305@2x.DfBSOg0a.js";import"./utils.D4BVGgd9.js";const pe=e({__name:"post-item",props:{item:{}},setup(e){const h=e,b=t("timeAgo"),{t:g}=a(),v=s(()=>{var e;return(null==(e=h.item.positionFamilyFormationVoList)?void 0:e.length)?h.item.positionFamilyFormationVoList.map(e=>{let t="";switch(+e.type){case 1:t=g("common.baby");break;case 2:t=g("common.child");break;case 3:t=g("common.youth");break;case 4:t=g("common.adult");break;case 5:t=g("common.senior")}return`${e.peopleNum}${t}`}).join(","):""});return(e,t)=>{const a=c,s=o,h=u;return l(),r(s,{class:"pt-28rpx pb-24rpx pr-24rpx flex space-x-16rpx bg-#fff rounded-20rpx"},{default:n(()=>[p(s,{class:"shrink-0 flex flex-col items-end"},{default:n(()=>[p(s,{class:"pl-24rpx shrink-0"},{default:n(()=>{var t;return[p(a,{class:"shrink-0 w-160rpx h-160rpx rounded-full",mode:"aspectFill",src:null==(t=e.item)?void 0:t.jobImage},null,8,["src"])]}),_:1}),e.item.matchScore?(l(),r(s,{key:0,class:"mt-10rpx w-186rpx h-44rpx center relative"},{default:n(()=>[p(a,{class:"absolute top-0 left-0 w-full h-full",src:A}),p(h,{class:"relative z-1 text-28rpx font-500 text-#fff"},{default:n(()=>[m(x(e.item.matchScore)+x(f(g)("common.score")),1)]),_:1})]),_:1})):i("",!0)]),_:1}),p(s,{class:"flex-1"},{default:n(()=>[p(s,{class:"flex items-center justify-between"},{default:n(()=>[p(h,{class:"text-32rpx text-#3D3D3D font-500"},{default:n(()=>[m(x(e.item.jobTitle),1)]),_:1})]),_:1}),p(s,{class:"py-16rpx flex justify-between border-bottom !after:bg-#E7E9ED text-24rpx text-#96959B"},{default:n(()=>[p(s,{class:""},{default:n(()=>[p(h,{class:"text-26rpx text-#96959B"},{default:n(()=>[m(x(f(g)("common.monthly-salary"))+"：",1)]),_:1}),G(+e.item.monthlySalaryType,1)?(l(),r(h,{key:0,class:"text-26rpx text-#333"},{default:n(()=>[m(x(e.item.minSalary)+"-"+x(e.item.maxSalary),1)]),_:1})):i("",!0),G(+e.item.monthlySalaryType,2)?(l(),r(h,{key:1,class:"text-26rpx text-#333"},{default:n(()=>[m(x(f(g)("common.legal-salary")),1)]),_:1})):i("",!0),G(+e.item.monthlySalaryType,3)?(l(),r(h,{key:2,class:"text-26rpx text-#333"},{default:n(()=>[m(x(f(g)("common.another-salary")),1)]),_:1})):i("",!0)]),_:1}),p(h,{class:"shrink-0 ml-20rpx"},{default:n(()=>[m(x(f(b).format(+e.item.lastOnlineTime))+x(f(g)("common.been-here")),1)]),_:1})]),_:1}),p(s,{class:"mt-16rpx"},{default:n(()=>[p(h,{class:"text-26rpx text-#9D9D9F"},{default:n(()=>[m(x(f(g)("pages-index.resume.post-type"))+"：",1)]),_:1}),p(h,{class:"text-26rpx text-#333"},{default:n(()=>[G(+e.item.postType,1)?(l(),r(h,{key:0,class:""},{default:n(()=>[m(x(f(g)("common.servant")),1)]),_:1})):G(+e.item.postType,2)?(l(),r(h,{key:1,class:""},{default:n(()=>[m(x(f(g)("common.driver")),1)]),_:1})):i("",!0),m(" 丨 "),G(+e.item.jobType,1)?(l(),r(h,{key:2,class:""},{default:n(()=>[m(x(f(g)("common.full-time")),1)]),_:1})):G(+e.item.jobType,2)?(l(),r(h,{key:3,class:""},{default:n(()=>[m(x(f(g)("common.part-time")),1)]),_:1})):G(+e.item.jobType,3)?(l(),r(h,{key:4,class:""},{default:n(()=>[m(x(f(g)("common.temporary")),1)]),_:1})):i("",!0)]),_:1})]),_:1}),p(s,{class:"mt-16rpx"},{default:n(()=>[p(h,{class:"text-26rpx text-#9D9D9F"},{default:n(()=>[m(x(f(g)("common.family-member"))+"：",1)]),_:1}),p(h,{class:"text-26rpx text-#333"},{default:n(()=>[m(x(f(v)),1)]),_:1})]),_:1}),e.item.nationalityPreference||e.item.jobRecruitmentLocation?(l(),r(s,{key:0,class:"mt-6rpx flex flex-wrap items-center space-x-56rpx"},{default:n(()=>[e.item.nationalityPreference?(l(),r(s,{key:0,class:"mt-10rpx flex items-center space-x-8rpx"},{default:n(()=>[p(a,{class:"w-32rpx h-32rpx shrink-0",src:M}),p(h,{class:"text-26rpx text-#333"},{default:n(()=>[m(x(e.item.nationalityPreference),1)]),_:1})]),_:1})):i("",!0),e.item.jobRecruitmentLocation?(l(),r(s,{key:1,class:"mt-10rpx flex items-center space-x-8rpx"},{default:n(()=>[p(a,{class:"w-32rpx h-32rpx shrink-0",src:W}),p(h,{class:"text-26rpx text-#333"},{default:n(()=>[m(x(e.item.jobRecruitmentLocation),1)]),_:1})]),_:1})):i("",!0)]),_:1})):i("",!0),e.item.importantSkill?(l(),r(s,{key:1,class:"flex mt-4rpx flex-wrap"},{default:n(()=>[(l(!0),d(y,null,_(J(",",e.item.importantSkill||""),e=>(l(),r(s,{class:"center mt-10rpx mr-16rpx px-22rpx h-42rpx bg-#F1FEFF rounded-8rpx",key:e},{default:n(()=>[p(h,{class:"text-24rpx lh-24rpx text-primary"},{default:n(()=>[m(x(e),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):i("",!0)]),_:1})]),_:1})}}}),ie=I(e({__name:"tabbar-home",emits:["inviteUser"],setup(e,{expose:t,emit:I}){const{t:B}=a(),H=h(),C=b(),U=g(0),O=g([]),Q=g([]),$=g({}),A=g({keyword:""}),M=s(()=>Q.value.find(e=>13===+e.businessType)),W=s(()=>Q.value.find(e=>14===+e.businessType)),{paging:J,dataList:ee,queryList:te}=re((e,t)=>v({whetherRecommend:1,pageNum:e,pageSize:t}));function ne(){var e;null==(e=J.value)||e.refresh(),ie()}function ie(){return e=this,t=null,a=function*(){var e,t;try{const a=[z({type:1,portNum:2}),z({type:2,portNum:2})],s=yield Promise.all(a);Q.value=(null==(e=s[0])?void 0:e.data)||[],O.value=(null==(t=s[1])?void 0:t.data)||[]}catch(a){}try{const e=yield R({typeList:[2]});$.value=e.data[0]||{}}catch(a){}},new Promise((s,r)=>{var l=e=>{try{n(a.next(e))}catch(t){r(t)}},o=e=>{try{n(a.throw(e))}catch(t){r(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,o);n((a=a.apply(e,t)).next())});var e,t,a}return le(function(){return!0},se(w.debounceLongTime,function(){var e;e=`/pages/search/index?keyword=${A.value.keyword}`,V({url:e})},{atBegin:!0})),se(w.debounceLongTime,function(){C.checkLogin()&&uni.shareWithSystem({summary:w.appName,href:w.shareLink,success:e=>{},fail:e=>{}})},{atBegin:!0}),t({init:function(){var e;null==(e=J.value)||e.refresh()},initData:ie}),(e,t)=>{const a=c,s=o,h=k(j("status-bar"),q),b=k(j("wd-input"),F),g=k(j("wd-button"),E),v=u,w=T,V=S,z=k(j("post-item"),pe),R=k(j("z-paging-empty-view"),K),I=k(j("z-paging"),Z);return l(),r(s,{class:"animate-in fade-in animate-ease-in animate-duration-300"},{default:n(()=>[p(I,{ref_key:"paging",ref:J,"paging-style":{height:f(H).windowHeight+"px",backgroundColor:"#F5F5F5"},"hide-empty-view":!0,modelValue:f(ee),"onUpdate:modelValue":t[2]||(t[2]=e=>N(ee)?ee.value=e:null),onQuery:f(te),onOnRefresh:ne},{top:n(()=>[p(s,{class:""},{default:n(()=>[p(s,{class:"fixed top-0 left-0 right-0 h-884rpx"},{default:n(()=>[p(a,{class:"w-full h-full",src:Y})]),_:1}),p(h),p(s,{class:"relative z-1 p-[36rpx+32rpx+24rpx]"},{default:n(()=>[p(s,{class:"h-76rpx pl-36rpx pr-8rpx flex items-center bg-#fff rounded-38rpx"},{default:n(()=>[p(s,{class:"flex-1 flex items-center h-72rpx"},{default:n(()=>[p(b,{"no-border":"",clearable:"","focus-when-clear":!1,cursorSpacing:20,maxlength:40,modelValue:f(A).keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>f(A).keyword=e),modelModifiers:{trim:!0},"custom-class":"flex-1 !bg-transparent",placeholderStyle:"font-size: 28rpx;color: #96959B;line-height: 40rpx;",placeholder:f(B)("pages.home.input-placeholder.search")},{prefix:n(()=>[p(s,{class:"h-full center"},{default:n(()=>[p(a,{class:"w-26rpx h-26rpx",src:ae})]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),p(s,{class:"flex shrink-0 ml-28rpx"},{default:n(()=>[p(g,{"custom-class":"!min-w-auto !p-0 !w-114rpx !h-60rpx"},{default:n(()=>[m(x(f(B)("common.search")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),default:n(()=>[p(s,{class:"relative z-1 bg-linear-to-b from-#fff to-30% to-#F5F5F5 rounded-t-40rpx"},{default:n(()=>[p(s,{class:"px-24rpx"},{default:n(()=>[p(s,{class:"pt-32rpx pr-8rpx"},{default:n(()=>[p(s,{class:"flex justify-between space-x-22rpx"},{default:n(()=>[p(s,{class:"flex-1 py-30rpx center space-x-8rpx border-custom !after:border-#E8E8E8 after:rounded-40rpx bg-#fff rounded-20rpx shadow-[0px_2px_10px_0px_rgba(0,0,0,0.08)]"},{default:n(()=>{var e;return[p(a,{class:"w-100rpx h-100rpx shrink-0",src:null==(e=f(M))?void 0:e.icon},null,8,["src"]),p(s,{class:""},{default:n(()=>[p(s,{class:"text-30rpx text-#000 font-500"},{default:n(()=>{var e;return[m(x(null==(e=f(M))?void 0:e.menuName),1)]}),_:1}),p(s,{class:"mt-8rpx text-24rpx text-#999"},{default:n(()=>{var e;return[m(x(null==(e=f(M))?void 0:e.sketch),1)]}),_:1})]),_:1})]}),_:1}),p(s,{class:"flex-1 py-30rpx center space-x-8rpx border-custom !after:border-#E8E8E8 after:rounded-40rpx bg-#fff rounded-20rpx shadow-[0px_2px_10px_0px_rgba(0,0,0,0.08)]"},{default:n(()=>{var e;return[p(a,{class:"w-100rpx h-100rpx shrink-0",src:null==(e=f(W))?void 0:e.icon},null,8,["src"]),p(s,{class:""},{default:n(()=>[p(s,{class:"text-30rpx text-#000 font-500"},{default:n(()=>{var e;return[m(x(null==(e=f(W))?void 0:e.menuName),1)]}),_:1}),p(s,{class:"mt-8rpx text-24rpx text-#999"},{default:n(()=>{var e;return[m(x(null==(e=f(W))?void 0:e.sketch),1)]}),_:1})]),_:1})]}),_:1})]),_:1}),p(s,{class:"mt-26rpx"},{default:n(()=>[f(O).length?(l(),r(s,{key:0,class:"relative"},{default:n(()=>[p(V,{class:"h-300rpx",current:f(U),onChange:t[1]||(t[1]=e=>U.value=e.detail.current)},{default:n(()=>[(l(!0),d(y,null,_(X(8,f(O)),e=>(l(),r(w,null,{default:n(()=>[p(s,{class:"flex flex-wrap"},{default:n(()=>[(l(!0),d(y,null,_(e,(e,t)=>(l(),r(s,{class:D(["w-25% flex flex-col items-center",[oe(t,3)&&"mt-8rpx"]]),key:e.id},{default:n(()=>[p(a,{class:"w-80rpx h-80rpx",src:e.icon},null,8,["src"]),p(v,{class:"mt-8rpx text-24rpx text-#333"},{default:n(()=>[m(x(e.menuName),1)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:2},1024)]),_:2},1024))),256))]),_:1},8,["current"]),oe(X(8,f(O)).length,1)?(l(),r(s,{key:0,class:"absolute left-0 right-0 bottom-16rpx center space-x-6rpx"},{default:n(()=>[(l(!0),d(y,null,_(X(8,f(O)),(e,t)=>(l(),r(s,{class:D(["w-16rpx h-16rpx rounded-full transition-all",[G(t,f(U))?"bg-primary":"bg-#E4E4E4"]]),key:t},null,8,["class"]))),128))]),_:1})):i("",!0)]),_:1})):i("",!0)]),_:1})]),_:1}),f($).option?(l(),r(s,{key:0,class:"h-228rpx"},{default:n(()=>[p(a,{class:"w-full h-full rounded-20rpx",mode:"aspectFill",src:f($).option},null,8,["src"])]),_:1})):i("",!0)]),_:1}),p(s,{class:"mt-30rpx mb-22rpx px-24rpx flex border-bottom !after:bg-#E7E9ED"},{default:n(()=>[p(s,{class:"flex flex-col items-center"},{default:n(()=>[p(v,{class:"text-28rpx text-#3D3D3D font-500"},{default:n(()=>[m(x(f(B)("pages.home.recommendation-work")),1)]),_:1}),p(s,{class:"mt-12rpx w-104rpx h-6rpx bg-primary rounded-4rpx"})]),_:1})]),_:1}),p(s,{class:"px-24rpx pb-24rpx"},{default:n(()=>[(l(!0),d(y,null,_(f(ee),(e,t)=>(l(),r(z,{class:D([oe(t,0)&&"mt-20rpx"]),item:e,key:e.id},null,8,["class","item"]))),128))]),_:1}),L(p(s,{class:"px-24rpx"},{default:n(()=>[p(R,{"empty-view-fixed":!1,"empty-view-img":"/static/images/16033@2x.png","empty-view-img-style":{width:"630rpx",height:"370rpx"},"empty-view-text":f(B)("common.empty-view-text"),"empty-view-title-style":{marginTop:"54rpx"}},null,8,["empty-view-text"])]),_:1},512),[[P,!f(ee).length]])]),_:1})]),_:1},8,["paging-style","modelValue","onQuery"])]),_:1})}}}),[["__scopeId","data-v-b5ead444"]]),ce=I(e({__name:"index",setup(e){const{t:t,locale:s}=a();b();const i=h(),c=g(),u=g(),m=g(),x=g("home");function d(e){s.value=e,Q(e),$(),i.isIos&&plus.runtime.restart()}function _(){var e,t;null==(e=c.value)||e.initData(),null==(t=m.value)||t.initData()}return g([{iconPath:"/static/tabbar/home.png",selectedIconPath:"/static/tabbar/homeHL.png",text:t("tabbar.home"),code:"home"},{iconPath:"/static/tabbar/message.png",selectedIconPath:"/static/tabbar/messageHL.png",text:t("tabbar.message"),code:"message"},{text:t("tabbar.mine"),iconPath:"/static/tabbar/user.png",selectedIconPath:"/static/tabbar/userHL.png",code:"mine"}]),ne(()=>{_()}),B(()=>{H()}),C(()=>{U(()=>{var e;_(),null==(e=c.value)||e.init()})}),(e,t)=>{const a=o,i=O("layout-default-uni");return l(),r(i,null,{default:n(()=>[p(ee,{modelValue:f(s),"onUpdate:modelValue":[t[0]||(t[0]=e=>N(s)?s.value=e:null),d],ref_key:"chooseLanguageRef",ref:u},null,8,["modelValue"]),p(te,{ref_key:"contactCustomerServiceRef",ref:m},null,512),p(a,{class:"page"},{default:n(()=>[L(p(ie,{ref_key:"tabbarHomeRef",ref:c},null,512),[[P,"home"===f(x)]])]),_:1})]),_:1})}}}),[["__scopeId","data-v-c77923fe"]]);export{ce as default};
