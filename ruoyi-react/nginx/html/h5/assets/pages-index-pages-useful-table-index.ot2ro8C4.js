import{d as e,u as a,a as t,r as l,c as s,i as r,w as n,N as o,Q as p,a6 as i,a3 as u,C as d,f as c,g as f,_ as m,h as x,o as _,k as g,j as h,p as b,z as w,a7 as y,l as v,s as j,F as k,v as z,H as V,q as C,t as N,n as U,y as L,ab as T,I as B}from"./index-D9qffpGI.js";import{_ as E}from"./wd-navbar.CgrG3S51.js";import{_ as H}from"./wd-skeleton.B7XFV9io.js";import{_ as Q}from"./z-paging.CK8cOFJo.js";import{_ as S}from"./15.Bsjg2eDx.js";import{_ as F}from"./437.lmUza8gT.js";import{d as I}from"./index.v6CH64ft.js";import{d as P}from"./download.DrI0wwCx.js";import{u as q}from"./usePage.FLXQ4DJO.js";import"./wd-navbar.vue_vue_type_style_index_0_scoped_f471d3d7_lang.D3dZSSvg.js";import"./z-paging-empty-view.D2R4CSV8.js";import"./common-layout.D4krRS1d.js";const A=B(e({__name:"index",setup(e){const{t:B}=a(),A=t();p("dayjs");const D=l(""),M=s(()=>A.windowHeight-A.statusBarHeight-44-i(106)+"px"),{paging:O,dataList:X,queryList:G,loading:J}=q((e,a)=>u({searchValue:D.value,portNum:1,pageNum:e,pageSize:a}));const K=I(d.debounceLongTime,function(e){return a=this,t=null,l=function*(){if(!e.tableUrl)return;const a=e.tableName+e.tableUrl.split(".").length>1?"."+e.tableUrl.split(".").pop():"";yield P(e.tableUrl,a)},new Promise((e,s)=>{var r=e=>{try{o(l.next(e))}catch(a){s(a)}},n=e=>{try{o(l.throw(e))}catch(a){s(a)}},o=a=>a.done?e(a.value):Promise.resolve(a.value).then(r,n);o((l=l.apply(a,t)).next())});var a,t,l},{atBegin:!0});function R(){var e;null==(e=O.value)||e.reload()}function W(){T()}return(e,a)=>{const t=h,l=c(f("wd-navbar"),E),s=U,p=c(f("wd-input"),m),i=c(f("wd-button"),x),u=c(f("wd-skeleton"),H),d=c(f("z-paging"),Q),T=o("layout-default-uni");return _(),r(T,null,{default:n(()=>[g(t,null,{default:n(()=>[g(d,{ref_key:"paging",ref:O,"show-loading-more-no-more-view":!1,modelValue:b(X),"onUpdate:modelValue":a[1]||(a[1]=e=>w(X)?X.value=e:null),onQuery:b(G)},{top:n(()=>[g(l,{title:b(B)("navbar-useful-table"),safeAreaInsetTop:"",bordered:!1,onClickLeft:W},{left:n(()=>[g(t,{class:"shrink-0"},{default:n(()=>[g(t,{class:"i-carbon:chevron-left text-50rpx text-#333 ml-[-10rpx]"})]),_:1})]),_:1},8,["title"]),g(t,{class:"relative z-1 p-[4rpx+32rpx+20rpx]"},{default:n(()=>[g(t,{class:"h-76rpx pl-36rpx pr-8rpx flex items-center bg-#fff rounded-38rpx"},{default:n(()=>[g(t,{class:"flex-1 flex items-center"},{default:n(()=>[g(p,{"no-border":"",clearable:"","focus-when-clear":!1,cursorSpacing:20,maxlength:40,modelValue:b(D),"onUpdate:modelValue":a[0]||(a[0]=e=>w(D)?D.value=e:null),modelModifiers:{trim:!0},"custom-class":"flex-1 !bg-transparent","custom-input-class":"!h-72rpx",placeholderStyle:"font-size: 28rpx;color: #96959B;line-height: 40rpx;",placeholder:b(B)("pages.home.input-placeholder.search"),onClear:R},{prefix:n(()=>[g(t,{class:"h-full center"},{default:n(()=>[g(s,{class:"w-26rpx h-26rpx",src:S})]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),g(t,{class:"flex shrink-0 ml-28rpx"},{default:n(()=>[g(i,{"custom-class":"!min-w-auto !p-0 !w-114rpx !h-60rpx",onClick:R},{default:n(()=>[C(N(b(B)("common.search")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),default:n(()=>[g(t,{class:"py-4rpx px-32rpx bg-#fff rounded-t-36rpx",style:y([{minHeight:b(M)}])},{default:n(()=>[v(g(t,{class:"animate-in fade-in animate-ease-in animate-duration-300"},{default:n(()=>[(_(!0),j(k,null,z(b(X),(e,a)=>(_(),r(t,{class:V(["pt-32rpx pb-24rpx",[a>0&&"border-top !after:border-#E9E9E9"]]),key:e.id},{default:n(()=>[g(t,{class:"mb-24rpx text-36rpx text-#000 font-500"},{default:n(()=>[C(N(a+1)+". "+N(e.usefulTableCategoryName),1)]),_:2},1024),(_(!0),j(k,null,z(e.usefulTableVoList,(e,a)=>(_(),r(t,{class:V(["py-12rpx px-24rpx flex items-center justify-between bg-#EDF3F3 rounded-14rpx",[a>0&&"mt-24rpx"]])},{default:n(()=>[g(t,{class:"text-28rpx text-#333"},{default:n(()=>[C(N(e.tableName),1)]),_:2},1024),g(t,{class:"flex shrink-0 mr-12prx",onClick:a=>b(K)(e)},{default:n(()=>[g(s,{class:"w-56rpx h-56rpx",src:F})]),_:2},1032,["onClick"])]),_:2},1032,["class"]))),256))]),_:2},1032,["class"]))),128))]),_:1},512),[[L,!b(J)]]),v(g(t,{class:"animate-in fade-in animate-ease-out animate-duration-300"},{default:n(()=>[(_(),j(k,null,z(10,e=>g(t,{class:V(["py-28rpx px-20rpx bg-#fff rounded-16rpx",[e>1&&"mt-20rpx"]]),key:e},{default:n(()=>[g(t,{class:"flex items-center justify-between"},{default:n(()=>[g(u,{animation:"gradient","row-col":[{size:"106rpx",type:"circle"}]}),g(t,{class:"flex-1 ml-30rpx"},{default:n(()=>[g(u,{animation:"gradient","row-col":[{width:"94rpx",margin:"0px"},{width:"354rpx"}]})]),_:1})]),_:1})]),_:2},1032,["class"])),64))]),_:1},512),[[L,b(J)]])]),_:1},8,["style"])]),_:1},8,["modelValue","onQuery"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-0e02ca32"]]);export{A as default};
