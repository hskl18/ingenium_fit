import{d as e,u as t,a,b as r,r as s,c as l,e as n,C as u,f as o,_ as p,g as i,h as c,i as d,o as m,j as x,w as f,k as _,l as v,m as g,n as h,p as y,q as b,t as w,S as j,s as k,v as E,F as P,x as I,y as N,z,A as D,B as L,D as V,E as F,G as S,H,I as R,J as T,K as C,L as U,M as B,N as q,O as M,P as O}from"./index-D9qffpGI.js";import{_ as Q}from"./resume-item.vue_vue_type_script_setup_true_lang.DnMDmKEP.js";import{_ as $}from"./z-paging-empty-view.D2R4CSV8.js";import{_ as A}from"./z-paging.CK8cOFJo.js";import{s as G,_ as J,a as K,b as W}from"./contact-customer-service.vue_vue_type_script_setup_true_lang.B4Q4AAm6.js";import{_ as X}from"./15.Bsjg2eDx.js";import{_ as Y}from"./status-bar.vue_vue_type_script_setup_true_lang.DoCQBNOC.js";import{d as Z}from"./index.v6CH64ft.js";import{u as ee}from"./usePage.FLXQ4DJO.js";import{w as te}from"./when.CilpbOlU.js";import{g as ae}from"./gt.BhFD8g82.js";import{e as re}from"./equals.DY-30pRn.js";import"./wd-navbar.vue_vue_type_style_index_0_scoped_f471d3d7_lang.D3dZSSvg.js";/* empty css                                                                        */import{u as se}from"./useNetworkStatusChange.yjU6JEeW.js";import"./59.C9nCXOxX.js";import"./split.Jt2Vv11W.js";import"./_curry2.BXt8VKw3.js";import"./curryN.C_6k55aV.js";import"./keys.FBP1WlYN.js";import"./_xfBase.Dq7PG5gC.js";import"./common-layout.D4krRS1d.js";import"./_curry3.VAFlxIU6.js";import"./16.XQJSNEbw.js";import"./prop.DJcIUqX5.js";import"./_nth.UVa0PGVR.js";import"./305@2x.DfBSOg0a.js";import"./utils.D4BVGgd9.js";const le=R(e({__name:"tabbar-home",emits:["inviteUser"],setup(e,{expose:R,emit:T}){const{t:C}=t(),U=a(),B=r(),q=s(0),M=s([]),O=s([]),K=s({}),W=s({driverPositionId:null,employPositionId:null}),se=s({keyword:""}),le=l(()=>O.value.find(e=>1===+e.businessType)),ne=l(()=>O.value.find(e=>2===+e.businessType)),ue=l(()=>O.value.find(e=>3===+e.businessType)),{paging:oe,dataList:pe,queryList:ie}=ee((e,t)=>n({whetherRecommend:1,pageNum:e,pageSize:t}));function ce(){var e;null==(e=oe.value)||e.refresh(),de()}function de(){return e=this,t=null,a=function*(){var e,t;try{const a=[L({type:1,portNum:1}),L({type:2,portNum:1})],r=yield Promise.all(a);O.value=(null==(e=r[0])?void 0:e.data)||[],M.value=(null==(t=r[1])?void 0:t.data)||[]}catch(a){}try{if(B.isLogin){const e=yield V({});W.value=e.data||{}}}catch(a){}try{const e=yield F({typeList:[1]});K.value=e.data[0]||{}}catch(a){}},new Promise((r,s)=>{var l=e=>{try{u(a.next(e))}catch(t){s(t)}},n=e=>{try{u(a.throw(e))}catch(t){s(t)}},u=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,n);u((a=a.apply(e,t)).next())});var e,t,a}return te(function(){return!0},Z(u.debounceLongTime,function(){var e;e=`/pages/search/index?keyword=${se.value.keyword}`,D({url:e})},{atBegin:!0})),R({init:function(){var e;null==(e=oe.value)||e.refresh()},initData:de}),(e,t)=>{const a=h,r=x,s=o(i("wd-input"),p),l=o(i("wd-button"),c),n=I,u=S,D=j,L=o(i("resume-item"),Q),V=o(i("z-paging-empty-view"),$),F=o(i("z-paging"),A);return m(),d(r,{class:"animate-in fade-in animate-ease-in animate-duration-300"},{default:f(()=>[_(F,{ref_key:"paging",ref:oe,"paging-style":{height:y(U).windowHeight+"px",backgroundColor:"#F5F5F5"},"hide-empty-view":!0,modelValue:y(pe),"onUpdate:modelValue":t[2]||(t[2]=e=>z(pe)?pe.value=e:null),onQuery:y(ie),onOnRefresh:ce},{top:f(()=>[_(r,{class:""},{default:f(()=>[_(r,{class:"fixed top-0 left-0 right-0 h-884rpx"},{default:f(()=>[_(a,{class:"w-full h-full",src:J})]),_:1}),_(Y),_(r,{class:"relative z-1 p-[36rpx+32rpx+24rpx]"},{default:f(()=>[_(r,{class:"h-76rpx pl-36rpx pr-8rpx flex items-center bg-#fff rounded-38rpx"},{default:f(()=>[_(r,{class:"flex-1 flex items-center h-72rpx"},{default:f(()=>[_(s,{"no-border":"",clearable:"","focus-when-clear":!1,cursorSpacing:20,maxlength:40,modelValue:y(se).keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>y(se).keyword=e),modelModifiers:{trim:!0},"custom-class":"flex-1 !bg-transparent",placeholderStyle:"font-size: 28rpx;color: #96959B;line-height: 40rpx;",placeholder:y(C)("pages.home.input-placeholder.search")},{prefix:f(()=>[_(r,{class:"h-full center"},{default:f(()=>[_(a,{class:"w-26rpx h-26rpx",src:X})]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),_(r,{class:"flex shrink-0 ml-28rpx"},{default:f(()=>[_(l,{"custom-class":"!min-w-auto !p-0 !w-114rpx !h-60rpx"},{default:f(()=>[b(w(y(C)("common.search")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),default:f(()=>[_(r,{class:"relative z-1 bg-linear-to-b from-#fff from-30% to-#F5F5F5 rounded-t-40rpx"},{default:f(()=>[_(r,{class:"px-24rpx"},{default:f(()=>[_(r,{class:"pt-32rpx pr-8rpx"},{default:f(()=>[_(r,{class:"flex justify-between space-x-22rpx"},{default:f(()=>[_(r,{class:"flex-1 py-30rpx center space-x-8rpx border-custom !after:border-#E8E8E8 after:rounded-40rpx bg-#fff rounded-20rpx shadow-[0px_2px_10px_0px_rgba(0,0,0,0.08)]"},{default:f(()=>{var e;return[_(a,{class:"w-100rpx h-100rpx",src:null==(e=y(le))?void 0:e.icon},null,8,["src"]),_(r,{class:""},{default:f(()=>[_(r,{class:"text-30rpx text-#000 font-500"},{default:f(()=>{var e;return[b(w(null==(e=y(le))?void 0:e.menuName),1)]}),_:1}),_(r,{class:"mt-8rpx text-24rpx text-#999"},{default:f(()=>{var e;return[b(w(null==(e=y(le))?void 0:e.sketch),1)]}),_:1})]),_:1})]}),_:1}),_(r,{class:"flex-1 py-30rpx center space-x-8rpx border-custom !after:border-#E8E8E8 after:rounded-40rpx bg-#fff rounded-20rpx shadow-[0px_2px_10px_0px_rgba(0,0,0,0.08)]"},{default:f(()=>{var e;return[_(a,{class:"w-100rpx h-100rpx",src:null==(e=y(ne))?void 0:e.icon},null,8,["src"]),_(r,{class:""},{default:f(()=>[_(r,{class:"text-30rpx text-#000 font-500"},{default:f(()=>{var e;return[b(w(null==(e=y(ne))?void 0:e.menuName),1)]}),_:1}),_(r,{class:"mt-8rpx text-24rpx text-#999"},{default:f(()=>{var e;return[b(w(null==(e=y(ne))?void 0:e.sketch),1)]}),_:1})]),_:1})]}),_:1})]),_:1}),_(r,{class:"mt-20rpx pt-20rpx pb-16rpx center space-x-6rpx border-custom !after:border-#E8E8E8 after:rounded-40rpx bg-#fff rounded-20rpx shadow-[0px_2px_10px_0px_rgba(0,0,0,0.08)]"},{default:f(()=>{var e;return[_(a,{class:"w-100rpx h-100rpx",src:null==(e=y(ue))?void 0:e.icon},null,8,["src"]),_(r,{class:""},{default:f(()=>[_(r,{class:"text-30rpx text-#000 font-500"},{default:f(()=>{var e;return[b(w(null==(e=y(ue))?void 0:e.menuName),1)]}),_:1}),_(r,{class:"mt-8rpx text-24rpx text-#999"},{default:f(()=>{var e;return[b(w(null==(e=y(ue))?void 0:e.sketch),1)]}),_:1})]),_:1})]}),_:1}),_(r,{class:"mt-26rpx"},{default:f(()=>[_(r,{class:""},{default:f(()=>[_(r,{class:"relative"},{default:f(()=>[_(D,{class:"h-300rpx",current:y(q),onChange:t[1]||(t[1]=e=>q.value=e.detail.current)},{default:f(()=>[(m(!0),k(P,null,E(G(8,y(M)),e=>(m(),d(u,null,{default:f(()=>[_(r,{class:"flex flex-wrap"},{default:f(()=>[(m(!0),k(P,null,E(e,(e,t)=>(m(),d(r,{class:H(["w-25% flex flex-col items-center",[ae(t,3)&&"mt-8rpx"]]),key:e.id},{default:f(()=>[_(a,{class:"w-80rpx h-80rpx",src:e.icon},null,8,["src"]),_(n,{class:"mt-8rpx text-24rpx text-#333"},{default:f(()=>[b(w(e.menuName),1)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:2},1024)]),_:2},1024))),256))]),_:1},8,["current"]),ae(G(8,y(M)).length,1)?(m(),d(r,{key:0,class:"absolute left-0 right-0 bottom-16rpx center space-x-6rpx"},{default:f(()=>[(m(!0),k(P,null,E(G(8,y(M)),(e,t)=>(m(),d(r,{class:H(["w-16rpx h-16rpx rounded-full transition-all",[re(t,y(q))?"bg-primary":"bg-#E4E4E4"]]),key:t},null,8,["class"]))),128))]),_:1})):g("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),y(K).option?(m(),d(r,{key:0,class:"h-228rpx"},{default:f(()=>[_(a,{class:"w-full h-full rounded-20rpx",mode:"aspectFill",src:y(K).option},null,8,["src"])]),_:1})):g("",!0)]),_:1}),_(r,{class:"mt-30rpx mb-22rpx px-24rpx flex border-bottom !after:bg-#E7E9ED"},{default:f(()=>[_(r,{class:"flex flex-col items-center"},{default:f(()=>[_(n,{class:"text-28rpx text-#3D3D3D font-500"},{default:f(()=>[b(w(y(C)("pages.home.recommend-resume")),1)]),_:1}),_(r,{class:"mt-12rpx w-104rpx h-6rpx bg-primary rounded-4rpx"})]),_:1})]),_:1}),_(r,{class:"px-24rpx pb-24rpx"},{default:f(()=>[(m(!0),k(P,null,E(y(pe),(e,t)=>(m(),d(L,{class:H([ae(t,0)&&"mt-20rpx"]),userPositionInfo:y(W),item:e,key:e.id},null,8,["class","userPositionInfo","item"]))),128))]),_:1}),v(_(r,{class:"px-24rpx"},{default:f(()=>[_(V,{"empty-view-fixed":!1,"empty-view-img":"/static/images/16033@2x.png","empty-view-img-style":{width:"630rpx",height:"370rpx"},"empty-view-text":y(C)("common.empty-view-text"),"empty-view-title-style":{marginTop:"54rpx"}},null,8,["empty-view-text"])]),_:1},512),[[N,!y(pe).length]])]),_:1})]),_:1},8,["paging-style","modelValue","onQuery"])]),_:1})}}}),[["__scopeId","data-v-8d8c4b09"]]),ne=R(e({__name:"index",setup(e){const{t:l,locale:n}=t();r();const u=a(),o=s(),p=s(),i=s(),c=s(),v=s();function g(e){n.value=e,M(e),O(),u.isIos&&plus.runtime.restart()}function h(){var e,t,a,r;null==(e=o.value)||e.initData(),null==(t=p.value)||t.initData(),null==(a=i.value)||a.initData(),null==(r=v.value)||r.initData()}return s("home"),s([{iconPath:"/static/tabbar/home.png",selectedIconPath:"/static/tabbar/homeHL.png",text:l("tabbar.home"),code:"home"},{iconPath:"/static/tabbar/message.png",selectedIconPath:"/static/tabbar/messageHL.png",text:l("tabbar.message"),code:"message"},{text:l("tabbar.mine"),iconPath:"/static/tabbar/user.png",selectedIconPath:"/static/tabbar/userHL.png",code:"mine"}]),se(()=>{h()}),T(()=>{C()}),U(()=>{B(()=>{var e;h(),null==(e=o.value)||e.init()})}),(e,t)=>{const a=x,r=q("layout-default-uni");return m(),d(r,null,{default:f(()=>[_(K,{modelValue:y(n),"onUpdate:modelValue":[t[0]||(t[0]=e=>z(n)?n.value=e:null),g],ref_key:"chooseLanguageRef",ref:c},null,8,["modelValue"]),_(W,{ref_key:"contactCustomerServiceRef",ref:v},null,512),_(a,{class:"page"},{default:f(()=>[_(le,{ref_key:"tabbarHomeRef",ref:o},null,512)]),_:1})]),_:1})}}}),[["__scopeId","data-v-32859cd3"]]);export{ne as default};
