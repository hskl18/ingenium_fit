var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,r=(e,t)=>{for(var o in t||(t={}))l.call(t,o)&&n(e,o,t[o]);if(a)for(var o of a(t))s.call(t,o)&&n(e,o,t[o]);return e},p=(e,a)=>t(e,o(a));import{ar as u,r as i,az as c,aA as A,aB as v,aC as d,aD as m,aE as f,d as w,Q as g,$ as x,U as C,aF as y,aG as b,i as h,o as _,w as E,k,j as F,H as B,m as Q,q as $,t as I,s as S,F as U,v as O,aH as Y,x as q,aI as R,p as j,aJ as D,a7 as Z,au as T,aK as G,I as H}from"./index-D9qffpGI.js";import{q as K}from"./useQueue.DfwZUzlk.js";let M=[];const z=p(r({},v),{customArrow:d(""),customPop:d(""),visibleArrow:m(!0),content:[String,Object],placement:d("bottom"),offset:f(0),useContentSlot:m(!1),disabled:m(!1),showClose:m(!1),modelValue:m(!1),mode:d("normal")}),V=H(w(p(r({},{name:"wd-popover",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:z,emits:["update:modelValue","menuclick","change","open","close"],setup(e,{expose:t,emit:o}){const a=e,l=o,s=g(K,null),n="popover",{proxy:r}=u(),p=function(e=!0){const{proxy:t}=u(),o=i(""),a=i(""),l=i(""),s=i(""),n=i(0),r=i(0),p=i(0),v=i(0),d=i(0),m=i(0),f=i(0);return{popStyle:o,arrowStyle:a,showStyle:l,arrowClass:s,init:function(e,o,a){if(o){const t=[`wd-${a}__arrow`,"bottom"===e||"bottom-start"===e||"bottom-end"===e?`wd-${a}__arrow-up`:"","left"===e||"left-start"===e||"left-end"===e?`wd-${a}__arrow-right`:"","right"===e||"right-start"===e||"right-end"===e?`wd-${a}__arrow-left`:"","top"===e||"top-start"===e||"top-end"===e?`wd-${a}__arrow-down`:""];s.value=t.join(" ")}A("#target",!1,t).then(e=>{e&&(p.value=e.left,v.value=e.bottom,d.value=e.width,m.value=e.height,f.value=e.top)}),A("#pos",!1,t).then(e=>{e&&(n.value=e.width,r.value=e.height)})},control:function(t,l){const s=e?9:0,p=d.value/2,u=s+m.value+5,i=d.value+s+5,A=m.value/2;let v=0,f=0;Array.isArray(l)?(v=(p-17>0?0:p-25)+l[0],f=(A-17>0?0:A-25)+(l[1]?l[1]:l[0])):c(l)?(v=(p-17>0?0:p-25)+l.x,f=(A-17>0?0:A-25)+l.y):(v=(p-17>0?0:p-25)+l,f=(A-17>0?0:A-25)+l);const w=new Map([["top",[`left: ${p}px; bottom: ${u}px; transform: translateX(-50%);`,"left: 50%;"]],["top-start",[`left: ${v}px; bottom: ${u}px;`,`left: ${(n.value>=d.value?d.value/2:n.value-25)-v}px;`]],["top-end",[`right: ${v}px; bottom: ${u}px;`,`right: ${(n.value>=d.value?d.value/2:n.value-25)-v}px; transform: translateX(50%);`]],["bottom",[`left: ${p}px; top: ${u}px; transform: translateX(-50%);`,"left: 50%;"]],["bottom-start",[`left: ${v}px; top: ${u}px;`,`left: ${(n.value>=d.value?d.value/2:n.value-25)-v}px;`]],["bottom-end",[`right: ${v}px; top: ${u}px;`,`right: ${(n.value>=d.value?d.value/2:n.value-25)-v}px; transform: translateX(50%);`]],["left",[`right: ${i}px; top: ${A}px; transform: translateY(-50%);`,"top: 50%"]],["left-start",[`right: ${i}px; top: ${f}px;`,`top: ${(r.value>=m.value?m.value/2:r.value-20)-f}px;`]],["left-end",[`right: ${i}px; bottom: ${f}px;`,`bottom: ${(r.value>=m.value?m.value/2:r.value-20)-f}px; transform: translateY(50%);`]],["right",[`left: ${i}px; top: ${A}px; transform: translateY(-50%);`,"top: 50%"]],["right-start",[`left: ${i}px; top: ${f}px;`,`top: ${(r.value>=m.value?m.value/2:r.value-20)-f}px;`]],["right-end",[`left: ${i}px; bottom: ${f}px;`,`bottom: ${(r.value>=m.value?m.value/2:r.value-20)-f}px; transform: translateY(50%);`]]]);o.value=w.get(t)[0],a.value=w.get(t)[1]},noop:function(){}}}(a.visibleArrow),v=i(!1);function d(e){f(!1),l("menuclick",{item:a.content[e],index:e})}function m(){a.disabled||f(!v.value)}function f(e){v.value=e,l("update:modelValue",e)}return x(()=>a.content,e=>{const{mode:t}=a;"normal"===t&&"string"!=typeof e||"menu"===t&&G(e)}),x(()=>a.placement,()=>{p.init(a.placement,a.visibleArrow,n)}),x(()=>a.modelValue,e=>{v.value=e}),x(()=>v.value,e=>{var t;e&&(p.control(a.placement,a.offset),s&&s.closeOther?s.closeOther(r):(t=r,M.forEach(e=>{e.$.uid!==t.$.uid&&e.$.exposed.close()}))),p.showStyle.value=e?"display: inline-block;":"display: none;",l("change",{show:e}),l(""+(e?"open":"close"))}),C(()=>{p.init(a.placement,a.visibleArrow,n)}),y(()=>{var e;s&&s.pushToQueue?s.pushToQueue(r):(e=r,M.push(e)),p.showStyle.value=v.value?"opacity: 1;":"opacity: 0;"}),b(()=>{var e;s&&s.removeFromQueue?s.removeFromQueue(r):(e=r,M=M.filter(t=>t.$.uid!==e.$.uid))}),t({open:function(){f(!0)},close:function(){f(!1)}}),(e,t)=>{const o=F,l=q;return _(),h(o,{class:B(`wd-popover ${e.customClass}`),style:Z(e.customStyle),id:"popover",onClick:T(j(p).noop,["stop"])},{default:E(()=>[k(o,{class:"wd-popover__pos wd-popover__hidden",id:"pos"},{default:E(()=>[k(o,{class:B(`wd-popover__container ${e.customPop}`)},{default:E(()=>[e.useContentSlot||"normal"!==e.mode?Q("",!0):(_(),h(o,{key:0,class:"wd-popover__inner"},{default:E(()=>[$(I(e.content),1)]),_:1})),e.useContentSlot||"menu"!==e.mode||"object"!=typeof e.content?Q("",!0):(_(),h(o,{key:1,class:"wd-popover__menu"},{default:E(()=>[(_(!0),S(U,null,O(e.content,(e,t)=>(_(),h(o,{key:t,class:"wd-popover__menu-inner",onClick:e=>d(t)},{default:E(()=>[e.iconClass?(_(),h(Y,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):Q("",!0),k(l,null,{default:E(()=>[$(I(e.content),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1},8,["class"])]),_:1}),k(R,{"custom-class":"wd-popover__pos","custom-style":j(p).popStyle.value,show:v.value,name:"fade",duration:200},{default:E(()=>[k(o,{class:B(`wd-popover__container ${e.customPop}`)},{default:E(()=>[a.visibleArrow?(_(),h(o,{key:0,class:B(`wd-popover__arrow ${j(p).arrowClass.value} ${e.customArrow}`),style:Z(j(p).arrowStyle.value)},null,8,["class","style"])):Q("",!0),e.useContentSlot||"normal"!==e.mode?Q("",!0):(_(),h(o,{key:1,class:"wd-popover__inner"},{default:E(()=>[$(I(e.content),1)]),_:1})),e.useContentSlot||"menu"!==e.mode?D(e.$slots,"content",{key:3},void 0,!0):(_(),h(o,{key:2,class:"wd-popover__menu"},{default:E(()=>[(_(!0),S(U,null,O(e.content,(e,t)=>(_(),h(o,{key:t,class:"wd-popover__menu-inner",onClick:e=>d(t),style:Z(0===t?"border-top: none":"")},{default:E(()=>["object"==typeof e&&e.iconClass?(_(),h(Y,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):Q("",!0),k(o,{style:{display:"inline-block"}},{default:E(()=>[$(I("object"==typeof e&&e.content?e.content:""),1)]),_:2},1024)]),_:2},1032,["onClick","style"]))),128))]),_:1}))]),_:3},8,["class"]),e.showClose?(_(),h(Y,{key:0,name:"close","custom-class":"wd-popover__close-icon",onClick:m})):Q("",!0)]),_:3},8,["custom-style","show"]),k(o,{onClick:m,class:"wd-popover__target",id:"target"},{default:E(()=>[D(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["class","style","onClick"])}}})),[["__scopeId","data-v-4f291d86"]]),W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAwJJREFUWEftWDFoFEEU/X82RQqLk9hYCFdopSY3sxaKgoUBI2ohKthpoYiYQlFRQTBCQIUUigoRBUsbhYCCASNYCvJnIsiBqHCFRZpAihQbMPO9gTvZbPZudu+O85DbamHm///2/Tf//1mEHn+wx/FBH2C7GVrHoFLqHSKOtes4g/1va+0tY8z9ZnvTAH5HxK0ZAnRiyzQRXcgFUEq5XwgxCwCDADC9urr6tBNInA8hhPP5EhGLzPwjiiJZLpeXcwF0m6WU16vO7gFAxMz7tNbUCZBKKQfuFDMvIeIuIvrp89vwFNe1yMyVKIp2+r7UFyj20U57Y8aYDz4bt94QYBiGm5j5s0sHALwiopNZHKbtKZVKh4MgmAGAAWYe11o/yeqraR0slUp7gyCYc3rM67gOYGRkZHsQBJ8QcYO19rkx5lxWcE0ZrDsJw/AKAEy1osdEFj4uLi4eqlQqUUcBOmdKqTeIeCSnHgdqOh6t2e0pl8sLecBlYtBtijPBzDNa62O+QEqpR4g47pi31u42xnzx2aStZ+7FcT0CwCUietgooFLqIiI+duvW2hPGmNetgMvMYB49xgs9M09ore+0Ci43wJoe3yOi09WU1vpaMriU8pkQ4iwAzBDRXykMDw/vEEIMeMBW5ufnl+J7Mqe4bqSUuo2IE8z8QGt9ORlQKfUCEc/EZSClvCuEuOFj0rU/rfW2fwHweJW9SWZ2vbjhg4hzRLSmTnaFQR9zTUHnNW4lxXljdD3FfYBxBlpJsVLqYHWSmUREX5mZJaKbXU9xrO35sv2LiLZ0HWCxWBwsFAqhj8GVlZVvyYHivy4zb6t3laNZOokvrx2tg7VhwE3Zbnxf1+7SWl1XAdYGhvOIOO3ekxNLGkCnwaGhoQM+DTLz1+RNL7cGU0avNSDTAOY4xQtEtLmtU9ygJi5prTfW2E2bZhx7VxGx6bBQnbxnk79CWmYwxuRpa+1yfWruCQ02E30fYDsloX7Cqxd9919ntBP/dNrWYLsf5LPvA/Qx5FvveQb/AK7o7TicFqhtAAAAAElFTkSuQmCC",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAkCAYAAABmMXGeAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEkSURBVEiJ5datTgQxEMDx/7TIkyd4BGSTKpI1yEswaJ6E50DzDrgTCATI7SnECeQJBBK7Gczu5Y7bve2Xo2pm0vzStM1k4F8vAXDOOWvtS1+7CyG8l6AGwFp7CyyBpaquvfdNMSoiz8B3Hy9KYRkC7/0V8ApcAqjqj4iscq5CDpNasPwt1IBP0BrwKFoKT6Il8Fk0F55Fc+AoNBWORlPgJDQWTkZj4Cx0CjbGXLdt+2Fy0RDCVlUfhrzvbvfQt77MkzbA40HpS1WfslHvfaOqaxFZDCBws9lsPiHv9UfBEMJ22JP6T2fBJDQWjEZTwCg0FZxFc8CzaC44iZaAo2gpeILWAI/QWuAedc45Y8xbDRDgAvZTXxUQjqe+HbDrum5VAgL8AoXeFUerLErsAAAAAElFTkSuQmCC",L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAAAXNSR0IArs4c6QAAAQVJREFUOE/d06FOA0EQxvFfE0QFAoFAkIBpeAIEjqTgSIB3IQEcEsKLICEVIEH1AZCAIEEgEAgkop3kLqFX9m6vpIYRN8nuzvefmZvpmLN15qzvfwI2cIBuy/Z94wovP+OqLVrGE5ZaipfPv9DDe3lQBezjekbxMiyqv0kBVooKFmeEfBYVfKQAcf6XKiayD7HUmF7iqGUV5zitxqQAMUG32M6E3GMXMUkTVrdoqxgifJ29YQvhp6xpk/u4w0KCEBnv4CGVQRMg4o7HSxf9/c1OcFFXXg4g4gfYqwjFvhw2/aNcQOzFI9YLwWdsIua+1nIBIbI2/pwVauFfm8Tjvg0gR2/qzQgidiETul4fkgAAAABJRU5ErkJggg==";export{V as _,W as a,X as b,L as c};
