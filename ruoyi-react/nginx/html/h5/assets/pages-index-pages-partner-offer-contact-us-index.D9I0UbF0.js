var e=Object.defineProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,t=(r,a,l)=>a in r?e(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l,o=(e,r,a)=>new Promise((l,t)=>{var o=e=>{try{n(a.next(e))}catch(r){t(r)}},s=e=>{try{n(a.throw(e))}catch(r){t(r)}},n=e=>e.done?l(e.value):Promise.resolve(e.value).then(o,s);n((a=a.apply(e,r)).next())});import{d as s,u as n,a as p,b as c,r as u,J as i,i as d,w as x,a9 as m,E as f,N as h,C as g,f as b,_,g as y,h as v,o as F,k as w,j,q as C,t as V,p as S,x as k,n as I,l as z,y as A,a7 as O,b7 as P,ab as U,I as M}from"./index-D9qffpGI.js";import{_ as N}from"./wd-textarea.DA18tZcl.js";import{_ as L,a as T,b as D,c as E,d as R}from"./choose-configuration.vue_vue_type_script_setup_true_lang.4epP8HK2.js";import{d as B}from"./index.v6CH64ft.js";import{z as q,p as G,v as H}from"./index.CJVvTSkr.js";import{_ as J}from"./choose-area-code.vue_vue_type_script_setup_true_lang.Cb6rlvUN.js";import{w as Q}from"./when.CilpbOlU.js";import"./16.XQJSNEbw.js";import"./gt.BhFD8g82.js";import"./_curry2.BXt8VKw3.js";import"./keys.FBP1WlYN.js";import"./_nth.UVa0PGVR.js";import"./14.-y9J3EI9.js";import"./15.Bsjg2eDx.js";import"./useNetworkStatusChange.yjU6JEeW.js";import"./_curry3.VAFlxIU6.js";const Z=M(s({__name:"index",props:{id:{}},setup(e){const s=e,{t:M}=n(),Z=p(),K=c(),W=u(),X=u(),Y=u([]),$=u(!1),ee=u({partnerOfferId:s.id,yourName:K.userInfo.name||"",email:K.userInfo.email||"",phoneAreaCodeIcon:K.userArea.phoneAreaCodeIcon||"",areaCode:K.userArea.areaCode||"",phone:"",suitableContactTime:"",language:"",languageDbId:"",message:""}),re=q.string().min(1,{message:M("pages-index.partner-offer.input-placeholder.your-email")}).email({message:M("common.prompt.mailbox-number-incorrect")}),ae=q.object({yourName:q.string().min(1,{message:M("pages-index.partner-offer.input-placeholder.your-name")}),email:re});function le(){var e;null==(e=W.value)||e.init()}function te(e){ee.value.areaCode=null==e?void 0:e.areaCode,ee.value.phoneAreaCodeIcon=null==e?void 0:e.countryRegionIcon}function oe(){var e;null==(e=X.value)||e.init({prop:"languageDbId",propLabel:"language",title:M("common.language"),list:Y.value})}function se({prop:e,propLabel:r,value:a}){ee.value[e]=a.id,ee.value[r]=a.option}const ne=Q(()=>K.checkLogin()&&function(){var e;const r=null==(e=ae.safeParse)?void 0:e.call(ae,ee.value);if(r.success)$.value||m({title:M("pages-index.partner-offer.prompt.agree-desc"),icon:"none"});else{const e=r.error.flatten().fieldErrors,a=G([0,0],H(e));a&&m({title:a,icon:"none"})}return r.success&&$.value}(),B(g.debounceLongTime,function(){return o(this,null,function*(){try{yield P(((e,o)=>{for(var s in o||(o={}))a.call(o,s)&&t(e,s,o[s]);if(r)for(var s of r(o))l.call(o,s)&&t(e,s,o[s]);return e})({},ee.value)),yield m({title:M("common.prompt.submit-successfully"),icon:"none"}),setTimeout(U,1e3)}catch(e){}})},{atBegin:!0}));return i(()=>{!function(){o(this,null,function*(){try{const e=yield f({typeList:[4]});Y.value=e.data||[]}catch(e){}})}()}),(e,r)=>{const a=j,l=k,t=b(y("wd-input"),_),o=I,s=b(y("wd-textarea"),N),n=b(y("wd-button"),v),p=h("layout-default-uni");return F(),d(p,null,{default:x(()=>[w(a,{class:""},{default:x(()=>[w(a,{class:"p-24rpx text-center bg-#D9F0F1 text-28rpx lh-36rpx text-primary"},{default:x(()=>[w(a,{class:""},{default:x(()=>[C(V(S(M)("pages-index.partner-offer.title")),1)]),_:1}),w(a,{class:""},{default:x(()=>[C(V(S(M)("pages-index.partner-offer.sub-title")),1)]),_:1})]),_:1}),w(a,{class:"mt-32rpx px-32rpx pb-30rpx"},{default:x(()=>[w(a,{class:"mb-20rpx text-28rpx text-#000 font-500"},{default:x(()=>[w(l,null,{default:x(()=>[C(V(S(M)("pages-index.partner-offer.your-name")),1)]),_:1}),w(l,{class:"text-#FF0000"},{default:x(()=>[C("*")]),_:1})]),_:1}),w(a,{class:"flex px-28rpx items-center h-80rpx bg-#F1F7F7 rounded-20rpx"},{default:x(()=>[w(t,{"no-border":"",clearable:"","focus-when-clear":!1,cursorSpacing:20,maxlength:255,modelValue:S(ee).yourName,"onUpdate:modelValue":r[0]||(r[0]=e=>S(ee).yourName=e),modelModifiers:{trim:!0},"custom-class":"relative z-1 flex-1 !bg-transparent","custom-input-class":"!h-90rpx",placeholderStyle:"font-size: 28rpx;color: #999;line-height: 40rpx;",placeholder:S(M)("pages-index.partner-offer.input-placeholder.your-name")},null,8,["modelValue","placeholder"])]),_:1}),w(a,{class:"mt-36rpx mb-20rpx text-28rpx text-#000 font-500"},{default:x(()=>[w(l,null,{default:x(()=>[C(V(S(M)("pages-index.partner-offer.your-email")),1)]),_:1}),w(l,{class:"text-#FF0000"},{default:x(()=>[C("*")]),_:1})]),_:1}),w(a,{class:"flex px-24rpx items-center h-80rpx bg-#F1F7F7 rounded-20rpx"},{default:x(()=>[w(t,{"no-border":"",clearable:"","focus-when-clear":!1,cursorSpacing:20,modelValue:S(ee).email,"onUpdate:modelValue":r[1]||(r[1]=e=>S(ee).email=e),modelModifiers:{trim:!0},"custom-class":"relative z-1 flex-1 !bg-transparent","custom-input-class":"!h-90rpx",placeholderStyle:"font-size: 28rpx;color: #999;line-height: 40rpx;",placeholder:S(M)("pages-index.partner-offer.input-placeholder.your-email")},null,8,["modelValue","placeholder"])]),_:1}),w(a,{class:"mt-36rpx mb-20rpx text-28rpx text-#000 font-500"},{default:x(()=>[C(V(S(M)("common.phone-number")),1)]),_:1}),w(a,{class:"flex px-24rpx items-center h-80rpx bg-#F1F7F7 rounded-20rpx"},{default:x(()=>[w(a,{class:"flex items-center shrink-0 mr-60rpx",onClick:le},{default:x(()=>[w(o,{class:"w-40rpx h-26rpx shrink-0",mode:"aspectFill",src:S(ee).phoneAreaCodeIcon},null,8,["src"]),w(l,{class:"ml-20rpx mr-8rpx text-28rpx text-#333"},{default:x(()=>[C(V(S(ee).areaCode),1)]),_:1}),w(o,{class:"w-28rpx h-16rpx shrink-0",src:L})]),_:1}),w(t,{"no-border":"",clearable:"","focus-when-clear":!1,cursorSpacing:20,maxlength:11,modelValue:S(ee).phone,"onUpdate:modelValue":r[2]||(r[2]=e=>S(ee).phone=e),modelModifiers:{trim:!0},"custom-class":"relative z-1 flex-1 !bg-transparent","custom-input-class":"!h-90rpx",placeholderStyle:"font-size: 28rpx;color: #999;line-height: 40rpx;",placeholder:S(M)("common.input-placeholder.phone-number")},null,8,["modelValue","placeholder"])]),_:1}),w(a,{class:"mt-36rpx mb-20rpx text-28rpx text-#000 font-500"},{default:x(()=>[C(V(S(M)("pages-index.partner-offer.contact-time")),1)]),_:1}),w(a,{class:"flex px-24rpx items-center h-80rpx bg-#F1F7F7 rounded-20rpx"},{default:x(()=>[w(t,{"no-border":"",clearable:"","focus-when-clear":!1,cursorSpacing:20,modelValue:S(ee).suitableContactTime,"onUpdate:modelValue":r[3]||(r[3]=e=>S(ee).suitableContactTime=e),modelModifiers:{trim:!0},"custom-class":"relative z-1 flex-1 !bg-transparent","custom-input-class":"!h-90rpx",placeholderStyle:"font-size: 28rpx;color: #999;line-height: 40rpx;",placeholder:S(M)("pages-index.partner-offer.input-placeholder.contact-time")},null,8,["modelValue","placeholder"])]),_:1}),w(a,{class:"mt-36rpx mb-20rpx text-28rpx text-#000 font-500"},{default:x(()=>[C(V(S(M)("pages-index.partner-offer.language-preference")),1)]),_:1}),w(a,{class:"flex px-24rpx items-center h-80rpx bg-#F1F7F7 rounded-20rpx",onClick:oe},{default:x(()=>[w(t,{readonly:"","no-border":"",clearable:"","focus-when-clear":!1,cursorSpacing:20,modelValue:S(ee).language,"onUpdate:modelValue":r[4]||(r[4]=e=>S(ee).language=e),modelModifiers:{trim:!0},"custom-class":"relative z-1 flex-1 !bg-transparent","custom-input-class":"!h-90rpx",placeholderStyle:"font-size: 28rpx;color: #999;line-height: 40rpx;",placeholder:S(M)("common.input-placeholder.select")},null,8,["modelValue","placeholder"]),w(a,{class:"shrink-0 flex ml-20rpx"},{default:x(()=>[w(o,{class:"w-26rpx h-14rpx",src:T})]),_:1})]),_:1}),w(a,{class:"mt-36rpx mb-20rpx text-28rpx text-#000 font-500"},{default:x(()=>[C(V(S(M)("pages-index.partner-offer.message")),1)]),_:1}),w(a,{class:""},{default:x(()=>[w(s,{maxlength:255,cursorSpacing:20,"custom-class":"!py-24rpx !px-22rpx !bg-#F1F7F7 !rounded-20rpx","custom-textarea-class":"!bg-#F1F7F7",modelValue:S(ee).message,"onUpdate:modelValue":r[5]||(r[5]=e=>S(ee).message=e),modelModifiers:{trim:!0},placeholderStyle:"font-size: 28rpx;color: #999;line-height: 40rpx;",placeholder:S(M)("pages-index.partner-offer.input-placeholder.message")},null,8,["modelValue","placeholder"])]),_:1}),w(a,{class:"mt-28rpx center"},{default:x(()=>[w(a,{class:"center space-x-6rpx",onClick:r[6]||(r[6]=e=>$.value=!S($))},{default:x(()=>[z(w(o,{class:"w-28rpx h-28rpx",src:D},null,512),[[A,S($)]]),z(w(o,{class:"w-28rpx h-28rpx",src:E},null,512),[[A,!S($)]]),w(l,{class:"text-24rpx text-#666"},{default:x(()=>[C(V(S(M)("pages-index.partner-offer.agree-desc")),1)]),_:1})]),_:1})]),_:1})]),_:1}),w(a,{class:"h-148rpx"}),w(a,{class:"fixed bottom-0 left-0 right-0 bg-#fff rounded-t-56rpx shadow-[0rpx_8rpx_20rpx_0rpx_rgba(0,0,0,0.16)]"},{default:x(()=>[w(a,{class:"p-[28rpx+32rpx] box-border"},{default:x(()=>[w(n,{"custom-class":"!h-92rpx !text-32rpx",block:"",onClick:S(ne)},{default:x(()=>[C(V(S(M)("common.submit")),1)]),_:1},8,["onClick"])]),_:1}),w(a,{style:O([S(Z).iosSafeBottomPlaceholder])},null,8,["style"])]),_:1}),w(J,{ref_key:"chooseAreaCodeRef",ref:W,onSuccess:te},null,512),w(R,{ref_key:"chooseConfigurationRef",ref:X,onSuccess:se},null,512)]),_:1})]),_:1})}}}),[["__scopeId","data-v-163b719e"]]);export{Z as default};
